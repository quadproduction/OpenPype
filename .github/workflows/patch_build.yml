name: ðŸ“¦ Build Zip Patch

on:
  push:
    tags:
      - '*.*.*'
      - '*.*.*-*'
      - 'CI/*.*.*-*'

jobs:
  build-zip-patch:
    runs-on: self-hosted
    # runs-on: ubuntu-latest
    strategy:
      matrix:
        python-version: [3.9.17]

    steps:
    - name: ðŸš› Checkout Code
      uses: actions/checkout@v3

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: ${{ matrix.python-version }}

    - name: ðŸ§µ Install Requirements
      run: ./tools/create_env.sh && ./tools/fetch_thirdparty_libs.sh

    - name: ðŸ”¨ Build
      run: tools/create_zip.sh --path /prod/softprod/apps/openpype/REPOSITORY/

